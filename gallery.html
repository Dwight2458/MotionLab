<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSS Animation Gallery</title>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/gallery.css">
  <style>
    /* System font stack - no external fonts needed */
    :root {
      --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      --font-mono: 'SF Mono', 'Fira Code', Consolas, 'Liberation Mono', Menlo, monospace;
    }

    /* Page specific styles */
    body {
      background: linear-gradient(135deg, #0a0a0f 0%, #12121a 100%);
      min-height: 100vh;
      font-family: var(--font-sans);
    }

    .page-header {
      text-align: center;
      padding: 60px 20px 40px;
      position: relative;
    }

    .page-header h1 {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 700;
      margin-bottom: 16px;
      background: linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .page-header p {
      color: #8888a0;
      font-size: 1.1rem;
      max-width: 600px;
      margin: 0 auto;
    }

    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
      gap: 24px;
      padding: 20px;
      max-width: 1400px;
      margin: 0 auto;
      padding-bottom: 80px;
    }

    .gallery-item {
      background: #12121a;
      border: 1px solid #2a2a3a;
      border-radius: 16px;
      overflow: hidden;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
    }

    .gallery-item:hover {
      border-color: #6366f1;
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(99, 102, 241, 0.2);
    }

    .item-preview {
      height: 160px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #1a1a25;
      position: relative;
      overflow: hidden;
    }

    .item-preview::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at center, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
    }

    .item-info {
      padding: 20px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .item-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: #e8e8f0;
      margin-bottom: 8px;
    }

    .item-desc {
      font-size: 0.9rem;
      color: #8888a0;
      margin-bottom: 16px;
    }

    /* Code Toggle Button */
    .code-toggle {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      background: #0a0a0f;
      border: 1px solid #3a3a4a;
      border-radius: 8px;
      color: #b8b8c8;
      font-size: 0.85rem;
      cursor: pointer;
      width: 100%;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .code-toggle:hover {
      border-color: #6366f1;
      color: #e8e8f0;
    }

    .code-toggle:focus {
      outline: none;
      border-color: #6366f1;
      color: #e8e8f0;
    }

    .code-toggle svg {
      width: 16px;
      height: 16px;
      transition: transform 0.3s ease;
    }

    .code-toggle.active svg {
      transform: rotate(180deg);
    }

    .code-toggle.active {
      border-color: #6366f1;
      color: #6366f1;
    }

    /* Code Panel */
    .code-panel {
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: max-height 0.4s ease, opacity 0.3s ease, visibility 0.3s;
      background: #0a0a0f;
      border-top: 1px solid transparent;
      position: relative;
      width: 100%;
      top: auto;
      left: auto;
    }

    .code-panel.open {
      position: relative;
      max-height: 600px;
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
      overflow-y: auto;
      border-top-color: #2a2a3a;
      padding-top: 40px;
    }

    /* Scrollbar for code panel */
    .code-panel.open::-webkit-scrollbar {
      width: 6px;
    }
    .code-panel.open::-webkit-scrollbar-track {
      background: #0a0a0f;
    }
    .code-panel.open::-webkit-scrollbar-thumb {
      background: #2a2a3a;
      border-radius: 3px;
    }
    .code-panel.open::-webkit-scrollbar-thumb:hover {
      background: #6366f1;
    }

    .copy-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      padding: 4px 10px;
      background: #1a1a25;
      border: 1px solid #3a3a4a;
      border-radius: 4px;
      color: #8888a0;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s ease;
      z-index: 1;
    }

    .copy-btn:hover {
      border-color: #6366f1;
      color: #e8e8f0;
    }

    .copy-btn.copied {
      border-color: #10b981;
      color: #10b981;
    }

    .code-content {
      padding: 0 16px 16px;
      font-family: var(--font-mono);
      font-size: 0;
      color: #8888a0;
      line-height: 1.6;
      white-space: pre-wrap;
      word-break: break-all;
    }

    .code-content span {
      font-size: 0.75rem;
    }

    .code-content .comment { color: #6b7280; }
    .code-content .selector { color: #f472b6; }
    .code-content .property { color: #93c5fd; }
    .code-content .value { color: #a5f3fc; }
    .code-content .punctuation { color: #e8e8f0; }

    .code-content {
      user-select: text;
      cursor: text;
    }
  </style>
</head>
<body>
  <!-- Canvas background -->
  <canvas id="bgCanvas"></canvas>

  <!-- Page Header -->
  <header class="page-header">
    <h1>CSS Animation Gallery</h1>
    <p>Interactive CSS animation demonstrations with live code preview. Click "View Code" to see the complete source code.</p>
  </header>

  <!-- Gallery Grid -->
  <main class="gallery-grid" id="galleryGrid">
    <!-- Loading Spinner -->
    <div class="gallery-item" data-animation="loading">
      <div class="item-preview">
        <div class="demo-loading">
          <div class="loading-ring">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
        </div>
      </div>
      <div class="item-info">
        <h3 class="item-title">Loading Spinner</h3>
        <p class="item-desc">Rotating rings with delay</p>
        <button class="code-toggle" data-target="loading">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
          View CSS Code
        </button>
        <div class="code-panel" id="code-loading" data-html="<div class=&quot;loading-ring&quot;>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
</div>" data-css=".loading-ring {
  position: relative;
  width: 60px;
  height: 60px;
}

.loading-ring div {
  position: absolute;
  width: 100%;
  height: 100%;
  border: 3px solid transparent;
  border-top-color: #6366f1;
  border-radius: 50%;
  animation: spin 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
}

.loading-ring div:nth-child(1) { animation-delay: -0.45s; }
.loading-ring div:nth-child(2) { animation-delay: -0.3s; }
.loading-ring div:nth-child(3) { animation-delay: -0.15s; }
.loading-ring div:nth-child(4) { animation-delay: 0s; }

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}">
          <button class="copy-btn" data-target="loading">Copy Complete Code</button>
          <div class="code-content">
<span class="comment">/* Loading Spinner CSS */</span>
<span class="selector">.loading-ring</span> <span class="punctuation">{</span>
  <span class="property">position</span><span class="punctuation">:</span> <span class="value">relative</span><span class="punctuation">;</span>
  <span class="property">width</span><span class="punctuation">:</span> <span class="value">60px</span><span class="punctuation">;</span>
  <span class="property">height</span><span class="punctuation">:</span> <span class="value">60px</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">.loading-ring div</span> <span class="punctuation">{</span>
  <span class="property">position</span><span class="punctuation">:</span> <span class="value">absolute</span><span class="punctuation">;</span>
  <span class="property">width</span><span class="punctuation">:</span> <span class="value">100%</span><span class="punctuation">;</span>
  <span class="property">height</span><span class="punctuation">:</span> <span class="value">100%</span><span class="punctuation">;</span>
  <span class="property">border</span><span class="punctuation">:</span> <span class="value">3px solid transparent</span><span class="punctuation">;</span>
  <span class="property">border-top-color</span><span class="punctuation">:</span> <span class="value">#6366f1</span><span class="punctuation">;</span>
  <span class="property">border-radius</span><span class="punctuation">:</span> <span class="value">50%</span><span class="punctuation">;</span>
  <span class="property">animation</span><span class="punctuation">:</span> <span class="value">spin 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">.loading-ring div:nth-child(1)</span> <span class="punctuation">{</span> <span class="property">animation-delay</span><span class="punctuation">:</span> <span class="value">-0.45s</span><span class="punctuation">;</span> <span class="punctuation">}</span>
<span class="selector">.loading-ring div:nth-child(2)</span> <span class="punctuation">{</span> <span class="property">animation-delay</span><span class="punctuation">:</span> <span class="value">-0.3s</span><span class="punctuation">;</span> <span class="punctuation">}</span>
<span class="selector">.loading-ring div:nth-child(3)</span> <span class="punctuation">{</span> <span class="property">animation-delay</span><span class="punctuation">:</span> <span class="value">-0.15s</span><span class="punctuation">;</span> <span class="punctuation">}</span>
<span class="selector">.loading-ring div:nth-child(4)</span> <span class="punctuation">{</span> <span class="property">animation-delay</span><span class="punctuation">:</span> <span class="value">0s</span><span class="punctuation">;</span> <span class="punctuation">}</span>

<span class="selector">@keyframes spin</span> <span class="punctuation">{</span>
  <span class="selector">0%</span> <span class="punctuation">{</span> <span class="property">transform</span><span class="punctuation">:</span> <span class="value">rotate(0deg)</span><span class="punctuation">;</span> <span class="punctuation">}</span>
  <span class="selector">100%</span> <span class="punctuation">{</span> <span class="property">transform</span><span class="punctuation">:</span> <span class="value">rotate(360deg)</span><span class="punctuation">;</span> <span class="punctuation">}</span>
<span class="punctuation">}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Pulse Button -->
    <div class="gallery-item" data-animation="pulse">
      <div class="item-preview">
        <button class="demo-pulse-btn">
          <span>Hover Me</span>
        </button>
      </div>
      <div class="item-info">
        <h3 class="item-title">Pulse Button</h3>
        <p class="item-desc">Button with ripple effect</p>
        <button class="code-toggle" data-target="pulse">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
          View CSS Code
        </button>
        <div class="code-panel" id="code-pulse" data-html="<button class=&quot;pulse-btn&quot;>
  <span>Hover Me</span>
</button>" data-css=".pulse-btn {
  position: relative;
  padding: 12px 28px;
  background: linear-gradient(135deg, #6366f1, #8b5cf6);
  color: white;
  border: none;
  border-radius: 8px;
  overflow: visible;
  cursor: pointer;
}

.pulse-btn::before {
  content: &quot;&quot;;
  position: absolute;
  inset: -6px;
  border: 2px solid #6366f1;
  border-radius: 12px;
  animation: pulse-ring 2s ease-out infinite;
}

@keyframes pulse-ring {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  100% {
    transform: scale(1.3);
    opacity: 0;
  }
}">
          <button class="copy-btn" data-target="pulse">Copy Complete Code</button>
          <div class="code-content">
<span class="comment">/* Pulse Button CSS */</span>
<span class="selector">.pulse-btn</span> <span class="punctuation">{</span>
  <span class="property">position</span><span class="punctuation">:</span> <span class="value">relative</span><span class="punctuation">;</span>
  <span class="property">padding</span><span class="punctuation">:</span> <span class="value">12px 28px</span><span class="punctuation">;</span>
  <span class="property">background</span><span class="punctuation">:</span> <span class="value">linear-gradient(135deg, #6366f1, #8b5cf6)</span><span class="punctuation">;</span>
  <span class="property">color</span><span class="punctuation">:</span> <span class="value">white</span><span class="punctuation">;</span>
  <span class="property">border</span><span class="punctuation">:</span> <span class="value">none</span><span class="punctuation">;</span>
  <span class="property">border-radius</span><span class="punctuation">:</span> <span class="value">8px</span><span class="punctuation">;</span>
  <span class="property">overflow</span><span class="punctuation">:</span> <span class="value">visible</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">.demo-pulse-btn::before</span> <span class="punctuation">{</span>
  <span class="property">content</span><span class="punctuation">:</span> <span class="value">''</span><span class="punctuation">;</span>
  <span class="property">position</span><span class="punctuation">:</span> <span class="value">absolute</span><span class="punctuation">;</span>
  <span class="property">inset</span><span class="punctuation">:</span> <span class="value">-6px</span><span class="punctuation">;</span>
  <span class="property">border</span><span class="punctuation">:</span> <span class="value">2px solid #6366f1</span><span class="punctuation">;</span>
  <span class="property">border-radius</span><span class="punctuation">:</span> <span class="value">12px</span><span class="punctuation">;</span>
  <span class="property">animation</span><span class="punctuation">:</span> <span class="value">pulse-ring 2s ease-out infinite</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">@keyframes pulse-ring</span> <span class="punctuation">{</span>
  <span class="selector">0%</span> <span class="punctuation">{</span>
    <span class="property">transform</span><span class="punctuation">:</span> <span class="value">scale(1)</span><span class="punctuation">;</span>
    <span class="property">opacity</span><span class="punctuation">:</span> <span class="value">1</span><span class="punctuation">;</span>
  <span class="punctuation">}</span>
  <span class="selector">100%</span> <span class="punctuation">{</span>
    <span class="property">transform</span><span class="punctuation">:</span> <span class="value">scale(1.3)</span><span class="punctuation">;</span>
    <span class="property">opacity</span><span class="punctuation">:</span> <span class="value">0</span><span class="punctuation">;</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Flip Card -->
    <div class="gallery-item" data-animation="flip">
      <div class="item-preview">
        <div class="demo-flip">
          <div class="flip-card">
            <div class="flip-inner">
              <div class="flip-front">Hover Me</div>
              <div class="flip-back">CSS Flip!</div>
            </div>
          </div>
        </div>
      </div>
      <div class="item-info">
        <h3 class="item-title">3D Flip Card</h3>
        <p class="item-desc">3D transform with preserve-3d</p>
        <button class="code-toggle" data-target="flip">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
          View CSS Code
        </button>
        <div class="code-panel" id="code-flip" data-html="<div class=&quot;flip-card&quot;>
  <div class=&quot;flip-inner&quot;>
    <div class=&quot;flip-front&quot;>Hover Me</div>
    <div class=&quot;flip-back&quot;>CSS Flip!</div>
  </div>
</div>" data-css=".flip-card {
  perspective: 1000px;
  width: 120px;
  height: 150px;
}

.flip-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.8s;
  transform-style: preserve-3d;
}

.flip-card:hover .flip-inner {
  transform: rotateY(180deg);
}

.flip-front, .flip-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
}

.flip-front {
  background: linear-gradient(135deg, #6366f1, #8b5cf6);
  color: white;
}

.flip-back {
  background: linear-gradient(135deg, #8b5cf6, #a855f7);
  color: white;
  transform: rotateY(180deg);
}">
          <button class="copy-btn" data-target="flip">Copy Complete Code</button>
          <div class="code-content">
<span class="comment">/* 3D Flip Card CSS */</span>
<span class="selector">.flip-card</span> <span class="punctuation">{</span>
  <span class="property">perspective</span><span class="punctuation">:</span> <span class="value">1000px</span><span class="punctuation">;</span>
  <span class="property">width</span><span class="punctuation">:</span> <span class="value">120px</span><span class="punctuation">;</span>
  <span class="property">height</span><span class="punctuation">:</span> <span class="value">150px</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">.flip-inner</span> <span class="punctuation">{</span>
  <span class="property">position</span><span class="punctuation">:</span> <span class="value">relative</span><span class="punctuation">;</span>
  <span class="property">width</span><span class="punctuation">:</span> <span class="value">100%</span><span class="punctuation">;</span>
  <span class="property">height</span><span class="punctuation">:</span> <span class="value">100%</span><span class="punctuation">;</span>
  <span class="property">transition</span><span class="punctuation">:</span> <span class="value">transform 0.8s</span><span class="punctuation">;</span>
  <span class="property">transform-style</span><span class="punctuation">:</span> <span class="value">preserve-3d</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">.flip-card:hover .flip-inner</span> <span class="punctuation">{</span>
  <span class="property">transform</span><span class="punctuation">:</span> <span class="value">rotateY(180deg)</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">.flip-front, .flip-back</span> <span class="punctuation">{</span>
  <span class="property">position</span><span class="punctuation">:</span> <span class="value">absolute</span><span class="punctuation">;</span>
  <span class="property">width</span><span class="punctuation">:</span> <span class="value">100%</span><span class="punctuation">;</span>
  <span class="property">height</span><span class="punctuation">:</span> <span class="value">100%</span><span class="punctuation">;</span>
  <span class="property">backface-visibility</span><span class="punctuation">:</span> <span class="value">hidden</span><span class="punctuation">;</span>
  <span class="property">border-radius</span><span class="punctuation">:</span> <span class="value">12px</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">.flip-back</span> <span class="punctuation">{</span>
  <span class="property">transform</span><span class="punctuation">:</span> <span class="value">rotateY(180deg)</span><span class="punctuation">;</span>
<span class="punctuation">}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Glowing Text -->
    <div class="gallery-item" data-animation="glow">
      <div class="item-preview">
        <div class="demo-glow">
          <span class="glow-text">CSS</span>
        </div>
      </div>
      <div class="item-info">
        <h3 class="item-title">Neon Glow</h3>
        <p class="item-desc">Text shadow animation</p>
        <button class="code-toggle" data-target="glow">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
          View CSS Code
        </button>
        <div class="code-panel" id="code-glow" data-html="<span class=&quot;glow-text&quot;>CSS</span>" data-css=".glow-text {
  font-size: 2.5rem;
  font-weight: 700;
  color: #6366f1;
  animation: glow 2s ease-in-out infinite;
}

@keyframes glow {
  0%, 100% {
    text-shadow:
      0 0 10px #6366f1,
      0 0 20px #6366f1;
  }
  50% {
    text-shadow:
      0 0 20px #6366f1,
      0 0 40px #6366f1,
      0 0 60px #8b5cf6;
  }
}">
          <button class="copy-btn" data-target="glow">Copy Complete Code</button>
          <div class="code-content">
<span class="comment">/* Neon Glow CSS */</span>
<span class="selector">.glow-text</span> <span class="punctuation">{</span>
  <span class="property">font-size</span><span class="punctuation">:</span> <span class="value">2.5rem</span><span class="punctuation">;</span>
  <span class="property">font-weight</span><span class="punctuation">:</span> <span class="value">700</span><span class="punctuation">;</span>
  <span class="property">color</span><span class="punctuation">:</span> <span class="value">#6366f1</span><span class="punctuation">;</span>
  <span class="property">animation</span><span class="punctuation">:</span> <span class="value">glow 2s ease-in-out infinite</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">@keyframes glow</span> <span class="punctuation">{</span>
  <span class="selector">0%, 100%</span> <span class="punctuation">{</span>
    <span class="property">text-shadow</span><span class="punctuation">:</span>
      <span class="value">0 0 10px #6366f1</span><span class="punctuation">,</span>
      <span class="value">0 0 20px #6366f1</span><span class="punctuation">;</span>
  <span class="punctuation">}</span>
  <span class="selector">50%</span> <span class="punctuation">{</span>
    <span class="property">text-shadow</span><span class="punctuation">:</span>
      <span class="value">0 0 20px #6366f1</span><span class="punctuation">,</span>
      <span class="value">0 0 40px #6366f1</span><span class="punctuation">,</span>
      <span class="value">0 0 60px #8b5cf6</span><span class="punctuation">;</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Morphing Blob -->
    <div class="gallery-item" data-animation="blob">
      <div class="item-preview">
        <div class="demo-blob"></div>
      </div>
      <div class="item-info">
        <h3 class="item-title">Morphing Blob</h3>
        <p class="item-desc">Fluid border-radius animation</p>
        <button class="code-toggle" data-target="blob">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
          View CSS Code
        </button>
        <div class="code-panel" id="code-blob" data-html="<div class=&quot;demo-blob&quot;></div>" data-css=".demo-blob {
  width: 100px;
  height: 100px;
  background: linear-gradient(135deg, #6366f1, #8b5cf6);
  animation: morph 6s ease-in-out infinite;
}

@keyframes morph {
  0%, 100% {
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
  }
  50% {
    border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
  }
}">
          <button class="copy-btn" data-target="blob">Copy Complete Code</button>
          <div class="code-content">
<span class="comment">/* Morphing Blob CSS */</span>
<span class="selector">.demo-blob</span> <span class="punctuation">{</span>
  <span class="property">width</span><span class="punctuation">:</span> <span class="value">100px</span><span class="punctuation">;</span>
  <span class="property">height</span><span class="punctuation">:</span> <span class="value">100px</span><span class="punctuation">;</span>
  <span class="property">background</span><span class="punctuation">:</span> <span class="value">linear-gradient(135deg, #6366f1, #8b5cf6)</span><span class="punctuation">;</span>
  <span class="property">animation</span><span class="punctuation">:</span> <span class="value">morph 6s ease-in-out infinite</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">@keyframes morph</span> <span class="punctuation">{</span>
  <span class="selector">0%, 100%</span> <span class="punctuation">{</span>
    <span class="property">border-radius</span><span class="punctuation">:</span>
      <span class="value">60% 40% 30% 70% / 60% 30% 70% 40%</span><span class="punctuation">;</span>
  <span class="punctuation">}</span>
  <span class="selector">50%</span> <span class="punctuation">{</span>
    <span class="property">border-radius</span><span class="punctuation">:</span>
      <span class="value">30% 60% 70% 40% / 50% 60% 30% 60%</span><span class="punctuation">;</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Bounce -->
    <div class="gallery-item" data-animation="bounce">
      <div class="item-preview">
        <div class="demo-bounce"></div>
      </div>
      <div class="item-info">
        <h3 class="item-title">Bounce</h3>
        <p class="item-desc">Elastic bounce effect</p>
        <button class="code-toggle" data-target="bounce">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
          View CSS Code
        </button>
        <div class="code-panel" id="code-bounce" data-html="<div class=&quot;demo-bounce&quot;></div>" data-css=".demo-bounce {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #6366f1, #8b5cf6);
  border-radius: 12px;
  animation: bounce-demo 0.6s ease infinite;
}

@keyframes bounce-demo {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-30px); }
}">
          <button class="copy-btn" data-target="bounce">Copy Complete Code</button>
          <div class="code-content">
<span class="comment">/* Bounce CSS */</span>
<span class="selector">.demo-bounce</span> <span class="punctuation">{</span>
  <span class="property">width</span><span class="punctuation">:</span> <span class="value">60px</span><span class="punctuation">;</span>
  <span class="property">height</span><span class="punctuation">:</span> <span class="value">60px</span><span class="punctuation">;</span>
  <span class="property">background</span><span class="punctuation">:</span> <span class="value">linear-gradient(135deg, #6366f1, #8b5cf6)</span><span class="punctuation">;</span>
  <span class="property">border-radius</span><span class="punctuation">:</span> <span class="value">12px</span><span class="punctuation">;</span>
  <span class="property">animation</span><span class="punctuation">:</span> <span class="value">bounce-demo 0.6s ease infinite</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">@keyframes bounce-demo</span> <span class="punctuation">{</span>
  <span class="selector">0%, 100%</span> <span class="punctuation">{</span> <span class="property">transform</span><span class="punctuation">:</span> <span class="value">translateY(0)</span><span class="punctuation">;</span> <span class="punctuation">}</span>
  <span class="selector">50%</span> <span class="punctuation">{</span> <span class="property">transform</span><span class="punctuation">:</span> <span class="value">translateY(-30px)</span><span class="punctuation">;</span> <span class="punctuation">}</span>
<span class="punctuation">}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Wave -->
    <div class="gallery-item" data-animation="wave">
      <div class="item-preview">
        <div class="demo-wave">
          <span></span><span></span><span></span><span></span><span></span>
        </div>
      </div>
      <div class="item-info">
        <h3 class="item-title">Wave Loader</h3>
        <p class="item-desc">Staggered dots animation</p>
        <button class="code-toggle" data-target="wave">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
          View CSS Code
        </button>
        <div class="code-panel" id="code-wave" data-html="<div class=&quot;demo-wave&quot;>
  <span></span>
  <span></span>
  <span></span>
  <span></span>
  <span></span>
</div>" data-css=".demo-wave {
  display: flex;
  gap: 6px;
}

.demo-wave span {
  width: 10px;
  height: 10px;
  background: #6366f1;
  border-radius: 50%;
  animation: wave 1s ease-in-out infinite;
}

.demo-wave span:nth-child(1) { animation-delay: 0s; }
.demo-wave span:nth-child(2) { animation-delay: 0.1s; }
.demo-wave span:nth-child(3) { animation-delay: 0.2s; }
.demo-wave span:nth-child(4) { animation-delay: 0.3s; }
.demo-wave span:nth-child(5) { animation-delay: 0.4s; }

@keyframes wave {
  0%, 80%, 100% {
    transform: scale(0);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}">
          <button class="copy-btn" data-target="wave">Copy Complete Code</button>
          <div class="code-content">
<span class="comment">/* Wave Loader CSS */</span>
<span class="selector">.demo-wave</span> <span class="punctuation">{</span>
  <span class="property">display</span><span class="punctuation">:</span> <span class="value">flex</span><span class="punctuation">;</span>
  <span class="property">gap</span><span class="punctuation">:</span> <span class="value">6px</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">.demo-wave span</span> <span class="punctuation">{</span>
  <span class="property">width</span><span class="punctuation">:</span> <span class="value">10px</span><span class="punctuation">;</span>
  <span class="property">height</span><span class="punctuation">:</span> <span class="value">10px</span><span class="punctuation">;</span>
  <span class="property">background</span><span class="punctuation">:</span> <span class="value">#6366f1</span><span class="punctuation">;</span>
  <span class="property">border-radius</span><span class="punctuation">:</span> <span class="value">50%</span><span class="punctuation">;</span>
  <span class="property">animation</span><span class="punctuation">:</span> <span class="value">wave 1s ease-in-out infinite</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">.demo-wave span:nth-child(1)</span> <span class="punctuation">{</span> <span class="property">animation-delay</span><span class="punctuation">:</span> <span class="value">0s</span><span class="punctuation">;</span> <span class="punctuation">}</span>
<span class="selector">.demo-wave span:nth-child(2)</span> <span class="punctuation">{</span> <span class="property">animation-delay</span><span class="punctuation">:</span> <span class="value">0.1s</span><span class="punctuation">;</span> <span class="punctuation">}</span>
<span class="selector">.demo-wave span:nth-child(3)</span> <span class="punctuation">{</span> <span class="property">animation-delay</span><span class="punctuation">:</span> <span class="value">0.2s</span><span class="punctuation">;</span> <span class="punctuation">}</span>
<span class="selector">.demo-wave span:nth-child(4)</span> <span class="punctuation">{</span> <span class="property">animation-delay</span><span class="punctuation">:</span> <span class="value">0.3s</span><span class="punctuation">;</span> <span class="punctuation">}</span>
<span class="selector">.demo-wave span:nth-child(5)</span> <span class="punctuation">{</span> <span class="property">animation-delay</span><span class="punctuation">:</span> <span class="value">0.4s</span><span class="punctuation">;</span> <span class="punctuation">}</span>

<span class="selector">@keyframes wave</span> <span class="punctuation">{</span>
  <span class="selector">0%, 80%, 100%</span> <span class="punctuation">{</span>
    <span class="property">transform</span><span class="punctuation">:</span> <span class="value">scale(0)</span><span class="punctuation">;</span>
    <span class="property">opacity</span><span class="punctuation">:</span> <span class="value">0.5</span><span class="punctuation">;</span>
  <span class="punctuation">}</span>
  <span class="selector">40%</span> <span class="punctuation">{</span>
    <span class="property">transform</span><span class="punctuation">:</span> <span class="value">scale(1)</span><span class="punctuation">;</span>
    <span class="property">opacity</span><span class="punctuation">:</span> <span class="value">1</span><span class="punctuation">;</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Heartbeat -->
    <div class="gallery-item" data-animation="heart">
      <div class="item-preview">
        <div class="demo-heart">
          <svg viewBox="0 0 24 24" class="heart-svg">
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="url(#heartGradient)"/>
            <defs>
              <linearGradient id="heartGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#f472b6"/>
                <stop offset="100%" stop-color="#fb7185"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
      </div>
      <div class="item-info">
        <h3 class="item-title">Heartbeat</h3>
        <p class="item-desc">Rhythmic scaling</p>
        <button class="code-toggle" data-target="heart">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
          View CSS Code
        </button>
        <div class="code-panel" id="code-heart" data-html="<div class=&quot;demo-heart&quot;>
  <svg viewBox=&quot;0 0 24 24&quot; width=&quot;48&quot; height=&quot;48&quot;>
    <path d=&quot;M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z&quot; fill=&quot;#f472b6&quot;/>
  </svg>
</div>" data-css=".demo-heart {
  width: 48px;
  height: 48px;
  animation: heartbeat 1s ease-in-out infinite;
}

@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  15% { transform: scale(1.15); }
  30% { transform: scale(1); }
  45% { transform: scale(1.15); }
  60% { transform: scale(1); }
}">
          <button class="copy-btn" data-target="heart">Copy Complete Code</button>
          <div class="code-content">
<span class="comment">/* Heartbeat CSS */</span>
<span class="selector">.demo-heart</span> <span class="punctuation">{</span>
  <span class="property">width</span><span class="punctuation">:</span> <span class="value">48px</span><span class="punctuation">;</span>
  <span class="property">height</span><span class="punctuation">:</span> <span class="value">48px</span><span class="punctuation">;</span>
  <span class="property">animation</span><span class="punctuation">:</span> <span class="value">heartbeat 1s ease-in-out infinite</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">@keyframes heartbeat</span> <span class="punctuation">{</span>
  <span class="selector">0%, 100%</span> <span class="punctuation">{</span> <span class="property">transform</span><span class="punctuation">:</span> <span class="value">scale(1)</span><span class="punctuation">;</span> <span class="punctuation">}</span>
  <span class="selector">15%</span> <span class="punctuation">{</span> <span class="property">transform</span><span class="punctuation">:</span> <span class="value">scale(1.15)</span><span class="punctuation">;</span> <span class="punctuation">}</span>
  <span class="selector">30%</span> <span class="punctuation">{</span> <span class="property">transform</span><span class="punctuation">:</span> <span class="value">scale(1)</span><span class="punctuation">;</span> <span class="punctuation">}</span>
  <span class="selector">45%</span> <span class="punctuation">{</span> <span class="property">transform</span><span class="punctuation">:</span> <span class="value">scale(1.15)</span><span class="punctuation">;</span> <span class="punctuation">}</span>
  <span class="selector">60%</span> <span class="punctuation">{</span> <span class="property">transform</span><span class="punctuation">:</span> <span class="value">scale(1)</span><span class="punctuation">;</span> <span class="punctuation">}</span>
<span class="punctuation">}</span>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script src="scripts/gallery.js"></script>
  <script>
    // Code toggle functionality
    document.querySelectorAll('.code-toggle').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation(); // Prevent event bubbling
        const target = btn.dataset.target;
        const panel = document.getElementById('code-' + target);
        const isOpen = panel.classList.contains('open');

        // Close all panels
        document.querySelectorAll('.code-panel').forEach(p => p.classList.remove('open'));
        document.querySelectorAll('.code-toggle').forEach(b => b.classList.remove('active'));

        // Open target panel if it was closed
        if (!isOpen) {
          panel.classList.add('open');
          btn.classList.add('active');
        }
      });
    });

    // Close panel when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.code-toggle') && !e.target.closest('.code-panel')) {
        document.querySelectorAll('.code-panel').forEach(p => p.classList.remove('open'));
        document.querySelectorAll('.code-toggle').forEach(b => b.classList.remove('active'));
      }
    });

    // Prevent clicks inside the panel from closing it
    document.querySelectorAll('.code-panel').forEach(panel => {
      panel.addEventListener('click', (e) => {
        e.stopPropagation();
      });
    });

    // Copy code functionality - generates complete HTML file
    document.querySelectorAll('.copy-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const target = btn.dataset.target;
        const panel = document.getElementById('code-' + target);

        // Get raw code from data attributes
        const htmlCode = panel.dataset.html || '';
        const cssCode = panel.dataset.css || '';

        // Generate complete HTML template
        const template = `<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSS Animation Demo</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      background: #1a1a25;
    }

${cssCode}
  </style>
</head>
<body>
${htmlCode}
</body>
</html>`;

        // Copy to clipboard
        navigator.clipboard.writeText(template).then(() => {
          // Visual feedback
          btn.textContent = '已复制';
          btn.classList.add('copied');

          // Reset after 2 seconds
          setTimeout(() => {
            btn.textContent = '复制';
            btn.classList.remove('copied');
          }, 2000);
        }).catch(err => {
          console.error('Failed to copy:', err);
          btn.textContent = '失败';
        });
      });
    });
  </script>
</body>
</html>
